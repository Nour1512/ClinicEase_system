<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Pharmacy Dashboard - Medicines Grid</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="{{ url_for('static', filename='styles/pharmacy.css') }}">
</head>
<body>
    <div class="app-shell">
        <!-- <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">Rx</div>
                <div>
                    <div class="sidebar-title">Preclinic</div>
                    <div class="sidebar-subtitle">Pharmacy Module</div>
                </div>
            </div>

            <div class="sidebar-section-title">Main Menu</div>
            <ul class="nav-list">
                <li class="nav-item">
                    <a class="nav-link" href="#">
                        <span class="icon">üè†</span>
                        Dashboard
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="#">
                        <span class="icon">üíä</span>
                        Medicines
                    </a>
                </li>
            </ul>

            <div class="sidebar-footer">
                <div><strong>TruCare Clinic</strong></div>
                <div>Inventory v1.0</div>
            </div>
        </aside> -->

        {% include 'base/sidebar.html' %}

<main class="main">
    <div class="topbar">
        <div class="search-wrapper">
            <span class="search-icon">üîç</span>
            <input id="searchInput" class="search-input" type="text"
                   placeholder="Search medicines by name, ID or supplier..." />
        </div>

        <div class="topbar-actions">
            <button class="chip-ai" type="button" id="aiHelperBtn">
                <span class="icon">‚ö°</span>
                <span>AI Assistance</span>
            </button>
            <button class="btn-round" type="button">üîî</button>

            <div class="avatar-container">
                <div class="avatar">PH</div>
            </div>
        </div>
    </div>

    <div class="page-header">
        <div class="page-header-left">
            <h1>Medicine Grid</h1>
            <span id="medicineCountSubtitle">All active medicines in stock</span>
        </div>

        <div class="page-header-right">
            <div class="filter-group">
                <label for="supplierFilter">Supplier</label>
                <select id="supplierFilter" class="select-input">
                    <option value="">All Suppliers</option>
                </select>
            </div>

            <div class="filter-group">
                <label for="expiryFilter">Expiry</label>
                <select id="expiryFilter" class="select-input">
                    <option value="">Any</option>
                    <option value="near">Near expiry</option>
                    <option value="expired">Expired</option>
                </select>
            </div>

            <div class="filter-group">
                <label for="sortSelect">Sort</label>
                <select id="sortSelect" class="select-input">
                    <option value="name-asc">Name (A‚ÄìZ)</option>
                    <option value="name-desc">Name (Z‚ÄìA)</option>
                    <option value="price-asc">Price (Low‚ÄìHigh)</option>
                    <option value="price-desc">Price (High‚ÄìLow)</option>
                </select>
            </div>
        </div>
    </div>

    <section class="content-card">
        <div class="content-toolbar">
            <div class="content-toolbar-left">
                <div class="pill-count" id="medicineCountPill">0 medicines</div>
                <span id="filterSummary">Showing all medicines</span>
            </div>
        </div>

        <!-- ‚úÖ CHECKOUT BUTTON -->


        <div class="medicine-grid" id="medicineGrid"
             data-api-url="/pharmacy/api/medicines"
             data-api-buy-url="/pharmacy/api/medicines/__ID__/buy"
             data-api-restock-url="/pharmacy/api/medicines/__ID__/restock"
             data-api-delete-url="/pharmacy/api/medicines/__ID__">
        </div>
    </section>
</main>

<div id="toast" class="toast hidden">
    <div id="toastMessage"></div>
</div>

<script src="{{ url_for('static', filename='scripts/pharmacy.js') }}"></script>

</html>